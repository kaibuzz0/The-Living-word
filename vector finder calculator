//a wave must always be true you need 2 lines to make double helix 

//@version=5
strategy(title='apex vectors', overlay=true, precision=2, commission_value=.1, initial_capital=10000, currency=currency.USD, default_qty_type=strategy.percent_of_equity, default_qty_value=80, pyramiding=17)

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Testing Date Range // 
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
FromDay = input.int(defval=1, title='Starting Date', minval=1, maxval=31)
FromMonth = input.int(defval=1, title='From Month', minval=1, maxval=12)
FromYear = input.int(defval=2010, title='From Year', minval=2010)
ToDay = input.int(defval=1, title='Finsh Date', minval=1, maxval=31)
ToMonth = input.int(defval=1, title='To Month', minval=1, maxval=12)
ToYear = input.int(defval=2025, title='To Year', minval=2010)
//Time Function
start = timestamp(FromYear, FromMonth, FromDay, 00, 00) // backtest start window //
finish = timestamp(ToYear, ToMonth, ToDay, 23, 59) // backtest finish window
window() => // create function "within window of time"
 time >= start and time <= finish ? true : false

custom_macd(type, src01, fast_length, slow_length) =>
    fast_ma = if type == 'EMA'
        ta.ema(src01, fast_length)
    else
        ta.sma(src01, fast_length)
    slow_ma = if type == 'EMA'
        ta.ema(src01, slow_length)
    else
        ta.sma(src01, slow_length)
    macd = fast_ma - slow_ma
    macd


src01 = low
sma_source01 = input(title='SMA Source 1', defval='SMA')

showwavelines1 = input.bool (false, title='', group="b1",inline="b1")
showwavelines24 = input.bool (false, title='', group="s1",inline="s1")
showwavelines2 = input.bool (false, title='', group="b2",inline="b2")
showwavelines25 = input.bool (false, title='', group="s2",inline="s2")
showwavelines3 = input.bool (false, title='', group="b3",inline="b3")
showwavelines26 = input.bool (false, title='', group="s3",inline="s3")
showwavelines4 = input.bool (false, title='', group="b4",inline="b4")
showwavelines27 = input.bool (false, title='', group="s4",inline="s4")
showwavelines5 = input.bool (false, title='', group="b5",inline="b5")
showwavelines28 = input.bool (false, title='', group="s5",inline="s5")
showwavelines6 = input.bool (false, title='', group="b6",inline="b6")
showwavelines29 = input.bool (false, title='', group="s6",inline="s6")
showwavelines7 = input.bool (false, title='', group="b7",inline="b7")
showwavelines30 = input.bool (false, title='', group="s7",inline="s7")
showwavelines8 = input.bool (false, title='', group="b8",inline="b8")
showwavelines31 = input.bool (false, title='', group="s8",inline="s8")
showwavelines9 = input.bool (false, title='', group="b9",inline="b9")
showwavelines32 = input.bool (false, title='', group="s9",inline="s9")
showwavelines10 = input.bool (false, title='', group="b10",inline="b10")
showwavelines33 = input.bool (false, title='', group="s10",inline="s10")
showwavelines11 = input.bool (false, title='', group="b11",inline="b11")
showwavelines34 = input.bool (false, title='', group="s11",inline="s11")
showwavelines12 = input.bool (false, title='', group="b12",inline="b12")
showwavelines35 = input.bool (false, title='', group="s12",inline="s12")
showwavelines13 = input.bool (false, title='', group="b13",inline="b13")
showwavelines36 = input.bool (false, title='', group="s13",inline="s13")
showwavelines14 = input.bool (false, title='', group="b14",inline="b14")
showwavelines37 = input.bool (false, title='', group="s14",inline="s14")
showwavelines15 = input.bool (false, title='', group="b15",inline="b15")
showwavelines38 = input.bool (false, title='', group="s15",inline="s15")
showwavelines16 = input.bool (false, title='', group="b16",inline="b16")
showwavelines39 = input.bool (false, title='', group="s16",inline="s16")
//showwavelines17 = input.bool (false, title='', group="b17",inline="b17")
//showwavelines40 = input.bool (false, title='', group="s17",inline="s17")
//showwavelines18 = input.bool (false, title='', group="b18",inline="b18")
//showwavelines41 = input.bool (false, title='', group="s18",inline="s18")
//showwavelines19 = input.bool (false, title='', group="b18",inline="b19")
//showwavelines42 = input.bool (false, title='', group="s19",inline="s19")
//showwavelines20 = input.bool (false, title='', group="b19",inline="b20")
//showwavelines43 = input.bool (false, title='', group="s2",inline="s2")
//showwavelines21 = input.bool (false, title='', group="b20",inline="b21")
//showwavelines44 = input.bool (false, title='', group="s2",inline="s2")
//showwavelines22 = input.bool (false, title='', group="b21",inline="b22")
//showwavelines45 = input.bool (false, title='', group="s2",inline="s2")
//showwavelines23 = input.bool (false, title='', group="b22",inline="b23")
//showwavelines46 = input.bool (false, title='', group="s2",inline="s2")
//showwavelines46 = input.bool (false, title='', group="s2",inline="s2")
//showwavelines47 = input.bool (false, title='', group="s2",inline="s2")
//showwavelines48 = input.bool (false, title='', group="s2",inline="s2")
fast_length01 = input(title='', defval=365, group="b1",inline="b1")
slow_length01 = input(title='', defval=690, group="b1",inline="b1")
fast_length02 = input(title='', defval=690, group="b1",inline="b1")
slow_length02 = input(title='', defval=365, group="b1",inline="b1")
fast_length03 = input(title='', defval=358, group="b2",inline="b2")
slow_length03 = input(title='', defval=460, group="b2",inline="b2")
fast_length04 = input(title='', defval=450, group="b2",inline="b2")
slow_length04 = input(title='', defval=365, group="b2",inline="b2")
fast_length05 = input(title='', defval=12, group="b3",inline="b3")
slow_length05 = input(title='', defval=200, group="b3",inline="b3")
fast_length06 = input(title='', defval=108, group="b3",inline="b3")
slow_length06 = input(title='', defval=365, group="b3",inline="b3")
fast_length07 = input(title='', defval=71, group="b4",inline="b4")
slow_length07 = input(title='', defval=830, group="b4",inline="b4")
fast_length08 = input(title='', defval=830, group="b4",inline="b4")
slow_length08 = input(title='', defval=365, group="b4",inline="b4")
fast_length09 = input(title='', defval=205, group="b5",inline="b5")
slow_length09 = input(title='', defval=469, group="b5",inline="b5")
fast_length010 = input(title='', defval=20, group="b5",inline="b5")
slow_length010 = input(title='', defval=246, group="b5",inline="b5")
fast_length011 = input(title='', defval=246, group="b6",inline="b6")
slow_length011 = input(title='', defval=365, group="b6",inline="b6")
fast_length012 = input(title='', defval=365, group="b6",inline="b6")
slow_length012 = input(title='', defval=205, group="b6",inline="b6")
fast_length013 = input(title='', defval=59, group="b7",inline="b7")
slow_length013 = input(title='', defval=830, group="b7",inline="b7")
fast_length014 = input(title='', defval=830, group="b7",inline="b7")
slow_length014 = input(title='', defval=50, group="b7",inline="b7")
fast_length015 = input(title='', defval=19, group="b8",inline="b8")
slow_length015 = input(title='', defval=198, group="b8",inline="b8")
fast_length016 = input(title='', defval=49, group="b8",inline="b8")
slow_length016 = input(title='', defval=365, group="b8",inline="b8")
fast_length017 = input(title='', defval=1, group="b9",inline="b9")
slow_length017 = input(title='', defval=59, group="b9",inline="b9")
fast_length018 = input(title='', defval=227, group="b9",inline="b9")
slow_length018 = input(title='', defval=137, group="b9",inline="b9")
fast_length019 = input(title='', defval=40, group="b10",inline="b10")
slow_length019 = input(title='', defval=14, group="b10",inline="b10")
fast_length020 = input(title='', defval=13, group="b10",inline="b10")
slow_length020 = input(title='', defval=15, group="b10",inline="b10")
fast_length021 = input(title='', defval=29, group="b11",inline="b11")
slow_length021 = input(title='', defval=8, group="b11",inline="b11")
fast_length022 = input(title='', defval=11, group="b11",inline="b11")
slow_length022 = input(title='', defval=4, group="b11",inline="b11")
fast_length023 = input(title='', defval=55, group="b12",inline="b12")
slow_length023 = input(title='', defval=7, group="b12",inline="b12")
fast_length024 = input(title='', defval=28, group="b12",inline="b12")
slow_length024 = input(title='', defval=13, group="b12",inline="b12")
fast_length025 = input(title='', defval=45, group="b13",inline="b13")
slow_length025 = input(title='', defval=6, group="b13",inline="b13")
fast_length026 = input(title='', defval=16, group="b13",inline="b13")
slow_length026 = input(title='', defval=8, group="b13",inline="b13")
fast_length027 = input(title='', defval=15, group="b14",inline="b14")
slow_length027 = input(title='', defval=22, group="b14",inline="b14")
fast_length028 = input(title='', defval=6, group="b14",inline="b14")
slow_length028 = input(title='', defval=7, group="b14",inline="b14")
fast_length029 = input(title='', defval=18, group="b15",inline="b15")
slow_length029 = input(title='', defval=13, group="b15",inline="b15")
fast_length030 = input(title='', defval=9, group="b15",inline="b15")
slow_length030 = input(title='', defval=8, group="b15",inline="b15")
fast_length031 = input(title='', defval=58, group="b16",inline="b16")
slow_length031 = input(title='', defval=23, group="b16",inline="b16")
fast_length032 = input(title='', defval=9, group="b16",inline="b16")
slow_length032 = input(title='', defval=16, group="b16",inline="b16")
fast_length033 = input(title='', defval=89, group="b17",inline="b17")
slow_length033 = input(title='', defval=46, group="b17",inline="b17")
fast_length034 = input(title='', defval=4, group="b17",inline="b17")
slow_length034 = input(title='', defval=2, group="b17",inline="b17")
fast_length035 = input(title='', defval=12, group="b18",inline="b18")
slow_length035 = input(title='', defval=173, group="b18",inline="b18")
fast_length036 = input(title='', defval=57, group="b18",inline="b18")
slow_length036 = input(title='', defval=49, group="b18",inline="b18")
fast_length037 = input(title='', defval=38, group="b19",inline="b19")
slow_length037 = input(title='', defval=52, group="b19",inline="b19")
fast_length038 = input(title='', defval=200, group="b19",inline="b19")
slow_length038 = input(title='', defval=41, group="b19",inline="b19")
fast_length039 = input(title='', defval=46, group="b20",inline="b20")
slow_length039 = input(title='', defval=48, group="b20",inline="b20")
fast_length040 = input(title='', defval=200, group="b20",inline="b20")
slow_length040 = input(title='', defval=37, group="b20",inline="b20")
fast_length041 = input(title='', defval=14, group="b21",inline="b21")
slow_length041 = input(title='', defval=46, group="b21",inline="b21")
fast_length042 = input(title='', defval=161, group="b21",inline="b21")
slow_length042 = input(title='', defval=47, group="b21",inline="b21")
fast_length043 = input(title='', defval=51, group="b22",inline="b22")
slow_length043 = input(title='', defval=53, group="b22",inline="b22")
fast_length044 = input(title='', defval=163, group="b22",inline="b22")
slow_length044 = input(title='', defval=42, group="b22",inline="b22")
fast_length045 = input(title='', defval=7, group="b23",inline="b23")
slow_length045 = input(title='', defval=96, group="b23",inline="b23")
fast_length046 = input(title='', defval=56, group="b23",inline="b23")
slow_length046 = input(title='', defval=36, group="b23",inline="b23")
fast_length047 = input(title='', defval=144, group="s1",inline="s1")
slow_length047 = input(title='', defval=365, group="s1",inline="s1")
fast_length048 = input(title='', defval=365, group="s1",inline="s1")
slow_length048 = input(title='', defval=150, group="s1",inline="s1")
fast_length049 = input(title='', defval=16, group="s2",inline="s2")
slow_length049 = input(title='', defval=62, group="s2",inline="s2")
fast_length050 = input(title='', defval=74, group="s2",inline="s2")
slow_length050 = input(title='', defval=55, group="s2",inline="s2")
fast_length051 = input(title='', defval=144, group="s3",inline="s3")
slow_length051 = input(title='', defval=200, group="s3",inline="s3")
fast_length052 = input(title='', defval=200, group="s3",inline="s3")
slow_length052 = input(title='', defval=300, group="s3",inline="s3")
fast_length053 = input(title='', defval=62, group="s4",inline="s4")
slow_length053 = input(title='', defval=365, group="s4",inline="s4")
fast_length054 = input(title='', defval=14, group="s4",inline="s4")
slow_length054 = input(title='', defval=86, group="s4",inline="s4")
fast_length055 = input(title='', defval=65, group="s5",inline="s5")
slow_length055 = input(title='', defval=300, group="s5",inline="s5")
fast_length056 = input(title='', defval=125, group="s5",inline="s5")
slow_length056 = input(title='', defval=50, group="s5",inline="s5")
fast_length057 = input(title='', defval=50, group="s6",inline="s6")
slow_length057 = input(title='', defval=98, group="s6",inline="s6")
fast_length058 = input(title='', defval=120, group="s6",inline="s6")
slow_length058 = input(title='', defval=39, group="s6",inline="s6")
fast_length059 = input(title='', defval=59, group="s7",inline="s7")
slow_length059 = input(title='', defval=103, group="s7",inline="s7")
fast_length060 = input(title='', defval=90, group="s7",inline="s7")
slow_length060 = input(title='', defval=66, group="s7",inline="s7")
fast_length061 = input(title='', defval=74, group="s8",inline="s8")
slow_length061 = input(title='', defval=137, group="s8",inline="s8")
fast_length062 = input(title='', defval=120, group="s8",inline="s8")
slow_length062 = input(title='', defval=55, group="s8",inline="s8")
fast_length063 = input(title='', defval=19, group="s9",inline="s9")
slow_length063 = input(title='', defval=365, group="s9",inline="s9")
fast_length064 = input(title='', defval=4, group="s9",inline="s9")
slow_length064 = input(title='', defval=49, group="s9",inline="s9")
fast_length065 = input(title='', defval=35, group="s10",inline="s10")
slow_length065 = input(title='', defval=886, group="s10",inline="s10")
fast_length066 = input(title='', defval=396, group="s10",inline="s10")
slow_length066 = input(title='', defval=32, group="s10",inline="s10")
fast_length067 = input(title='', defval=59, group="s11",inline="s11")
slow_length067 = input(title='', defval=830, group="s11",inline="s11")
fast_length068 = input(title='', defval=830, group="s11",inline="s11")
slow_length068 = input(title='', defval=50, group="s11",inline="s11")
fast_length069 = input(title='', defval=50, group="s12",inline="s12")
slow_length069 = input(title='', defval=160, group="s12",inline="s12")
fast_length070 = input(title='', defval=168, group="s12",inline="s12")
slow_length070 = input(title='', defval=73, group="s12",inline="s12")
fast_length071 = input(title='', defval=29, group="s13",inline="s13")
slow_length071 = input(title='', defval=8, group="s13",inline="s13")
fast_length072 = input(title='', defval=11, group="s13",inline="s13")
slow_length072 = input(title='', defval=4, group="s13",inline="s13")
fast_length073 = input(title='', defval=55, group="s14",inline="s14")
slow_length073 = input(title='', defval=7, group="s14",inline="s14")
fast_length074 = input(title='', defval=28, group="s14",inline="s14")
slow_length074 = input(title='', defval=13, group="s14",inline="s14")
fast_length075 = input(title='', defval=45, group="s15",inline="s15")
slow_length075 = input(title='', defval=6, group="s15",inline="s15")
fast_length076 = input(title='', defval=16, group="s15",inline="s15")
slow_length076 = input(title='', defval=8, group="s15",inline="s15")
fast_length077 = input(title='', defval=15, group="s16",inline="s16")
slow_length077 = input(title='', defval=22, group="s16",inline="s16")
fast_length078 = input(title='', defval=6, group="s16",inline="s16")
slow_length078 = input(title='', defval=7, group="s16",inline="s16")
fast_length079 = input(title='', defval=18, group="s17",inline="s17")
slow_length079 = input(title='', defval=13, group="s17",inline="s17")
fast_length080 = input(title='', defval=9, group="s17",inline="s17")
slow_length080 = input(title='', defval=8, group="s17",inline="s17")
fast_length081 = input(title='', defval=58, group="s18",inline="s18")
slow_length081 = input(title='', defval=23, group="s18",inline="s18")
fast_length082 = input(title='', defval=9, group="s18",inline="s18")
slow_length082 = input(title='', defval=16, group="s18",inline="s18")
fast_length083 = input(title='', defval=89, group="s19",inline="s19")
slow_length083 = input(title='', defval=46, group="s19",inline="s19")
fast_length084 = input(title='', defval=4, group="s19",inline="s19")
slow_length084 = input(title='', defval=2, group="s19",inline="s19")
fast_length085 = input(title='', defval=12, group="s20",inline="s20")
slow_length085 = input(title='', defval=173, group="s20",inline="s20")
fast_length086 = input(title='', defval=57, group="s20",inline="s20")
slow_length086 = input(title='', defval=49, group="s20",inline="s20")
fast_length087 = input(title='', defval=38, group="s21",inline="s21")
slow_length087 = input(title='', defval=52, group="s21",inline="s21")
fast_length088 = input(title='', defval=200, group="s21",inline="s21")
slow_length088 = input(title='', defval=41, group="s21",inline="s21")
fast_length089 = input(title='', defval=46, group="s22",inline="s22")
slow_length089 = input(title='', defval=48, group="s22",inline="s22")
fast_length090 = input(title='', defval=200, group="s22",inline="s22")
slow_length090 = input(title='', defval=37, group="s22",inline="s22")
fast_length091 = input(title='', defval=14, group="s23",inline="s23")
slow_length091 = input(title='', defval=46, group="s23",inline="s23")
fast_length092 = input(title='', defval=161, group="s23",inline="s23")
slow_length092 = input(title='', defval=47, group="s23",inline="s23")
fast_length093 = input(title='', defval=51, group="s24",inline="s24")
slow_length093 = input(title='', defval=53, group="s24",inline="s24")
fast_length094 = input(title='', defval=163, group="s24",inline="s24")
slow_length094 = input(title='', defval=42, group="s24",inline="s24")
fast_length095 = input(title='', defval=7, group="s25",inline="s25")
slow_length095 = input(title='', defval=96, group="s25",inline="s25")
fast_length096 = input(title='', defval=56, group="s25",inline="s25")
slow_length096 = input(title='', defval=36, group="s25",inline="s25")
macd01 = custom_macd(sma_source01, src01, fast_length01, slow_length01)
macd02 = custom_macd(sma_source01, src01, fast_length02, slow_length02)
macd03 = custom_macd(sma_source01, src01, fast_length03, slow_length03)
macd04 = custom_macd(sma_source01, src01, fast_length04, slow_length04)
macd05 = custom_macd(sma_source01, src01, fast_length05, slow_length05)
macd06 = custom_macd(sma_source01, src01, fast_length06, slow_length06)
macd07 = custom_macd(sma_source01, src01, fast_length07, slow_length07)
macd08 = custom_macd(sma_source01, src01, fast_length08, slow_length08)
macd09 = custom_macd(sma_source01, src01, fast_length09, slow_length09)
macd010 = custom_macd(sma_source01, src01, fast_length010, slow_length010)
macd011 = custom_macd(sma_source01, src01, fast_length011, slow_length011)
macd012 = custom_macd(sma_source01, src01, fast_length012, slow_length012)
macd013 = custom_macd(sma_source01, src01, fast_length013, slow_length013)
macd014 = custom_macd(sma_source01, src01, fast_length014, slow_length014)
macd015 = custom_macd(sma_source01, src01, fast_length015, slow_length015)
macd016 = custom_macd(sma_source01, src01, fast_length016, slow_length016)
macd017 = custom_macd(sma_source01, src01, fast_length017, slow_length017)
macd018 = custom_macd(sma_source01, src01, fast_length018, slow_length018)
macd019 = custom_macd(sma_source01, src01, fast_length019, slow_length019)
macd020 = custom_macd(sma_source01, src01, fast_length020, slow_length020)
macd021 = custom_macd(sma_source01, src01, fast_length021, slow_length021)
macd022 = custom_macd(sma_source01, src01, fast_length022, slow_length022)
macd023 = custom_macd(sma_source01, src01, fast_length023, slow_length023)
macd024 = custom_macd(sma_source01, src01, fast_length024, slow_length024)
macd025 = custom_macd(sma_source01, src01, fast_length025, slow_length025)
macd026 = custom_macd(sma_source01, src01, fast_length026, slow_length026)
macd027 = custom_macd(sma_source01, src01, fast_length027, slow_length027)
macd028 = custom_macd(sma_source01, src01, fast_length028, slow_length028)
macd029 = custom_macd(sma_source01, src01, fast_length029, slow_length029)
macd030 = custom_macd(sma_source01, src01, fast_length030, slow_length030)
macd031 = custom_macd(sma_source01, src01, fast_length031, slow_length031)
macd032 = custom_macd(sma_source01, src01, fast_length032, slow_length032)
macd033 = custom_macd(sma_source01, src01, fast_length033, slow_length033)
macd034 = custom_macd(sma_source01, src01, fast_length034, slow_length034)
macd035 = custom_macd(sma_source01, src01, fast_length035, slow_length035)
macd036 = custom_macd(sma_source01, src01, fast_length036, slow_length036)
macd037 = custom_macd(sma_source01, src01, fast_length037, slow_length037)
macd038 = custom_macd(sma_source01, src01, fast_length038, slow_length038)
macd039 = custom_macd(sma_source01, src01, fast_length039, slow_length039)
macd040 = custom_macd(sma_source01, src01, fast_length040, slow_length040)
macd041 = custom_macd(sma_source01, src01, fast_length041, slow_length041)
macd042 = custom_macd(sma_source01, src01, fast_length042, slow_length042)
macd043 = custom_macd(sma_source01, src01, fast_length043, slow_length043)
macd044 = custom_macd(sma_source01, src01, fast_length044, slow_length044)
macd045 = custom_macd(sma_source01, src01, fast_length045, slow_length045)
macd046 = custom_macd(sma_source01, src01, fast_length046, slow_length046)
macd047 = custom_macd(sma_source01, src01, fast_length047, slow_length047)
macd048 = custom_macd(sma_source01, src01, fast_length048, slow_length048)
macd049 = custom_macd(sma_source01, src01, fast_length049, slow_length049)
macd050 = custom_macd(sma_source01, src01, fast_length050, slow_length050)
macd051 = custom_macd(sma_source01, src01, fast_length051, slow_length051)
macd052 = custom_macd(sma_source01, src01, fast_length052, slow_length052)
macd053 = custom_macd(sma_source01, src01, fast_length053, slow_length053)
macd054 = custom_macd(sma_source01, src01, fast_length054, slow_length054)
macd055 = custom_macd(sma_source01, src01, fast_length055, slow_length055)
macd056 = custom_macd(sma_source01, src01, fast_length056, slow_length056)
macd057 = custom_macd(sma_source01, src01, fast_length057, slow_length057)
macd058 = custom_macd(sma_source01, src01, fast_length058, slow_length058)
macd059 = custom_macd(sma_source01, src01, fast_length059, slow_length059)
macd060 = custom_macd(sma_source01, src01, fast_length060, slow_length060)
macd061 = custom_macd(sma_source01, src01, fast_length061, slow_length061)
macd062 = custom_macd(sma_source01, src01, fast_length062, slow_length062)
macd063 = custom_macd(sma_source01, src01, fast_length063, slow_length063)
macd064 = custom_macd(sma_source01, src01, fast_length064, slow_length064)
macd065 = custom_macd(sma_source01, src01, fast_length065, slow_length065)
macd066 = custom_macd(sma_source01, src01, fast_length066, slow_length066)
macd067 = custom_macd(sma_source01, src01, fast_length067, slow_length067)
macd068 = custom_macd(sma_source01, src01, fast_length068, slow_length068)
macd069 = custom_macd(sma_source01, src01, fast_length069, slow_length069)
macd070 = custom_macd(sma_source01, src01, fast_length070, slow_length070)
macd071 = custom_macd(sma_source01, src01, fast_length071, slow_length071)
macd072 = custom_macd(sma_source01, src01, fast_length072, slow_length072)
macd073 = custom_macd(sma_source01, src01, fast_length073, slow_length073)
macd074 = custom_macd(sma_source01, src01, fast_length074, slow_length074)
macd075 = custom_macd(sma_source01, src01, fast_length075, slow_length075)
macd076 = custom_macd(sma_source01, src01, fast_length076, slow_length076)
macd077 = custom_macd(sma_source01, src01, fast_length077, slow_length077)
macd078 = custom_macd(sma_source01, src01, fast_length078, slow_length078)
macd079 = custom_macd(sma_source01, src01, fast_length079, slow_length079)
macd080 = custom_macd(sma_source01, src01, fast_length080, slow_length080)
macd081 = custom_macd(sma_source01, src01, fast_length081, slow_length081)
macd082 = custom_macd(sma_source01, src01, fast_length082, slow_length082)
macd083 = custom_macd(sma_source01, src01, fast_length083, slow_length083)
macd084 = custom_macd(sma_source01, src01, fast_length084, slow_length084)
macd085 = custom_macd(sma_source01, src01, fast_length085, slow_length085)
macd086 = custom_macd(sma_source01, src01, fast_length086, slow_length086)
macd087 = custom_macd(sma_source01, src01, fast_length087, slow_length087)
macd088 = custom_macd(sma_source01, src01, fast_length088, slow_length088)
macd089 = custom_macd(sma_source01, src01, fast_length089, slow_length089)
macd090 = custom_macd(sma_source01, src01, fast_length090, slow_length090)
macd091 = custom_macd(sma_source01, src01, fast_length091, slow_length091)
macd092 = custom_macd(sma_source01, src01, fast_length092, slow_length092)
macd093 = custom_macd(sma_source01, src01, fast_length093, slow_length093)
macd094 = custom_macd(sma_source01, src01, fast_length094, slow_length094)
macd095 = custom_macd(sma_source01, src01, fast_length095, slow_length095)
macd096 = custom_macd(sma_source01, src01, fast_length096, slow_length096)
plot(showwavelines1 ? macd01: na,color=color.new(#178000, 0), title="b1w1")
plot(showwavelines1 ? macd02: na,color=color.new(#178000, 0), title="b1w2")
plot(showwavelines2 ? macd03: na,color=color.new(#178000, 0), title="b2w1")
plot(showwavelines2 ? macd04: na,color=color.new(#178000, 0), title="b2w2")
plot(showwavelines3 ? macd05: na,color=color.new(#178000, 0), title="b3w1")
plot(showwavelines3 ? macd06: na,color=color.new(#178000, 0), title="b3w2")
plot(showwavelines4 ? macd07: na,color=color.new(#178000, 0), title="b4w1")
plot(showwavelines4 ? macd08: na,color=color.new(#178000, 0), title="b4w2")
plot(showwavelines5 ? macd09: na,color=color.new(#178000, 0), title="b5w1")
plot(showwavelines5 ? macd010: na,color=color.new(#178000, 0), title="b5w2")
plot(showwavelines6 ? macd011: na,color=color.new(#178000, 0), title="b6w1")
plot(showwavelines6 ? macd012: na,color=color.new(#178000, 0), title="b6w2")
plot(showwavelines7 ? macd013: na,color=color.new(#178000, 0), title="b7w1")
plot(showwavelines7 ? macd014: na,color=color.new(#178000, 0), title="b7w2")
plot(showwavelines8 ? macd015: na,color=color.new(#178000, 0), title="b8w1")
plot(showwavelines8 ? macd016: na,color=color.new(#178000, 0), title="b8w2")
plot(showwavelines9 ? macd017: na,color=color.new(#178000, 0), title="b9w1")
plot(showwavelines9 ? macd018: na,color=color.new(#178000, 0), title="b9w2")
plot(showwavelines10 ? macd019: na,color=color.new(#178000, 0), title="b10w1")
plot(showwavelines10 ? macd020: na,color=color.new(#178000, 0), title="b10w2")
plot(showwavelines11 ? macd021: na,color=color.new(#178000, 0), title="b11w1")
plot(showwavelines11 ? macd022: na,color=color.new(#178000, 0), title="b11w2")
plot(showwavelines12 ? macd023: na,color=color.new(#178000, 0), title="b12w1")
plot(showwavelines12 ? macd024: na,color=color.new(#178000, 0), title="b12w2")
plot(showwavelines13 ? macd025: na,color=color.new(#178000, 0), title="b13w1")
plot(showwavelines13 ? macd026: na,color=color.new(#178000, 0), title="b13w2")
plot(showwavelines14 ? macd027: na,color=color.new(#178000, 0), title="b14w1")
plot(showwavelines14 ? macd028: na,color=color.new(#178000, 0), title="b14w2")
plot(showwavelines15 ? macd029: na,color=color.new(#178000, 0), title="b15w1")
plot(showwavelines15 ? macd030: na,color=color.new(#178000, 0), title="b15w2")
//plot(showwavelines16 ? macd031: na,color=color.new(#178000, 0), title="b16w1")
//plot(showwavelines16 ? macd032: na,color=color.new(#178000, 0), title="b16w2")
//plot(showwavelines17 ? macd033: na,color=color.new(#178000, 0), title="b17w1")
//plot(showwavelines17 ? macd034: na,color=color.new(#178000, 0), title="b17w2")
//plot(showwavelines18 ? macd035: na,color=color.new(#178000, 0), title="b18w1")
//plot(showwavelines18 ? macd036: na,color=color.new(#178000, 0), title="b18w2")
//plot(showwavelines19 ? macd037: na,color=color.new(#178000, 0), title="b19w1")
//plot(showwavelines19 ? macd038: na,color=color.new(#178000, 0), title="b19w2")
//plot(showwavelines20 ? macd039: na,color=color.new(#178000, 0), title="b20w1")
//plot(showwavelines20 ? macd040: na,color=color.new(#178000, 0), title="b20w2")
//plot(showwavelines21 ? macd041: na,color=color.new(#178000, 0), title="b21w1")
//plot(showwavelines21 ? macd042: na,color=color.new(#178000, 0), title="b21w2")
//plot(showwavelines22 ? macd043: na,color=color.new(#178000, 0), title="b22w1")
//plot(showwavelines22 ? macd044: na,color=color.new(#178000, 0), title="b22w2")
//plot(showwavelines23 ? macd045: na,color=color.new(#178000, 0), title="b23w1")
//plot(showwavelines23 ? macd046: na,color=color.new(#178000, 0), title="b23w2")
plot(showwavelines24 ? macd047: na,color=color.new(#800000, 0), title="sell1w1")
plot(showwavelines24 ? macd048: na,color=color.new(#800000, 0), title="sell1w2")
plot(showwavelines25 ? macd049: na,color=color.new(#800000, 0), title="sell2w1")
plot(showwavelines25 ? macd050: na,color=color.new(#800000, 0), title="sell2w2")
plot(showwavelines26 ? macd051: na,color=color.new(#800000, 0), title="sell3w1")
plot(showwavelines26 ? macd052: na,color=color.new(#800000, 0), title="sell3w2")
plot(showwavelines27 ? macd053: na,color=color.new(#800000, 0), title="sell4w1")
plot(showwavelines27 ? macd054: na,color=color.new(#800000, 0), title="sell4w2")
plot(showwavelines28 ? macd055: na,color=color.new(#800000, 0), title="sell5w1")
plot(showwavelines28 ? macd056: na,color=color.new(#800000, 0), title="sell5w2")
plot(showwavelines29 ? macd057: na,color=color.new(#800000, 0), title="sell6w1")
plot(showwavelines29 ? macd058: na,color=color.new(#800000, 0), title="sell6w2")
plot(showwavelines30 ? macd059: na,color=color.new(#800000, 0), title="sell7w1")
plot(showwavelines30 ? macd060: na,color=color.new(#800000, 0), title="sell7w2")
plot(showwavelines31 ? macd061: na,color=color.new(#800000, 0), title="sell8w1")
plot(showwavelines31 ? macd062: na,color=color.new(#800000, 0), title="sell8w2")
plot(showwavelines32 ? macd063: na,color=color.new(#800000, 0), title="sell9w1")
plot(showwavelines32 ? macd064: na,color=color.new(#800000, 0), title="sell9w2")
plot(showwavelines33 ? macd065: na,color=color.new(#800000, 0), title="sell10w1")
plot(showwavelines33 ? macd066: na,color=color.new(#800000, 0), title="sell10w2")
plot(showwavelines34 ? macd067: na,color=color.new(#800000, 0), title="sell11w1")
plot(showwavelines34 ? macd068: na,color=color.new(#800000, 0), title="sell11w2")
plot(showwavelines35 ? macd069: na,color=color.new(#800000, 0), title="sell12w1")
plot(showwavelines35 ? macd070: na,color=color.new(#800000, 0), title="sell12w2")
plot(showwavelines36 ? macd071: na,color=color.new(#800000, 0), title="sell13w1")
plot(showwavelines36 ? macd072: na,color=color.new(#800000, 0), title="sell13w2")
plot(showwavelines37 ? macd073: na,color=color.new(#800000, 0), title="sell14w1")
plot(showwavelines37 ? macd074: na,color=color.new(#800000, 0), title="sell4w2")
plot(showwavelines38 ? macd075: na,color=color.new(#800000, 0), title="sell15w1")
plot(showwavelines38 ? macd076: na,color=color.new(#800000, 0), title="sell15w2")
plot(showwavelines39 ? macd077: na,color=color.new(#800000, 0), title="sell16w1")
plot(showwavelines39 ? macd078: na,color=color.new(#800000, 0), title="sell16w2")
//plot(showwavelines40 ? macd079: na,color=color.new(#800000, 0), title="sell17w1")
//plot(showwavelines40 ? macd080: na,color=color.new(#800000, 0), title="sell17w2")
//plot(showwavelines41 ? macd081: na,color=color.new(#800000, 0), title="sell18w1")
//plot(showwavelines41 ? macd082: na,color=color.new(#800000, 0), title="sell18w2")
//plot(showwavelines42 ? macd083: na,color=color.new(#800000, 0), title="sell19w1")
//plot(showwavelines42 ? macd084: na,color=color.new(#800000, 0), title="sell19w2")
//plot(showwavelines43 ? macd085: na,color=color.new(#800000, 0), title="sell20w1")
//plot(showwavelines43 ? macd086: na,color=color.new(#800000, 0), title="sell20w2")
//plot(showwavelines44 ? macd087: na,color=color.new(#800000, 0), title="sell21w1")
//plot(showwavelines44 ? macd088: na,color=color.new(#800000, 0), title="sell21w2")
//plot(showwavelines45 ? macd089: na,color=color.new(#800000, 0), title="sell22w1")
//plot(showwavelines45 ? macd090: na,color=color.new(#800000, 0), title="sell22w2")
//plot(showwavelines46 ? macd091: na,color=color.new(#800000, 0), title="sell23w1")
//plot(showwavelines46 ? macd092: na,color=color.new(#800000, 0), title="sell23w2")
//plot(showwavelines47 ? macd093: na,color=color.new(#800000, 0), title="sell24w1")
//plot(showwavelines47 ? macd094: na,color=color.new(#800000, 0), title="sell24w2")
//plot(showwavelines48 ? macd095: na,color=color.new(#800000, 0), title="sell25w1")
//plot(showwavelines48 ? macd096: na,color=color.new(#800000, 0), title="sell25w2")
Buy_signal_1 = showwavelines1 ? ta.cross(macd01, macd02): na
Buy_signal_2 = showwavelines2 ? ta.cross(macd03, macd04): na
Buy_signal_3 = showwavelines3 ? ta.cross(macd05, macd06): na
Buy_signal_4 = showwavelines4 ? ta.cross(macd07, macd08): na 
Buy_signal_5 = showwavelines5 ? ta.cross(macd09, macd010): na
Buy_signal_6 = showwavelines6 ? ta.cross(macd011, macd012): na
Buy_signal_7 = showwavelines7 ? ta.cross(macd013, macd014): na 
Buy_signal_8 = showwavelines8 ? ta.cross(macd015, macd016): na
Buy_signal_9 = showwavelines9 ? ta.cross(macd017, macd018): na
Buy_signal_10 = showwavelines10 ? ta.cross(macd019, macd020): na
Buy_signal_11 = showwavelines11 ? ta.cross(macd021, macd022): na
Buy_signal_12 = showwavelines12 ? ta.cross(macd023, macd024): na
Buy_signal_13 = showwavelines13 ? ta.cross(macd025, macd026): na 
Buy_signal_14 = showwavelines14 ? ta.cross(macd027, macd028): na 
Buy_signal_15 = showwavelines15 ? ta.cross(macd029, macd030): na
Buy_signal_16 = showwavelines16 ? ta.cross(macd031, macd032): na
//Buy_signal_17 = showwavelines17 ? ta.cross(macd033, macd034): na
//Buy_signal_18 = showwavelines18 ? ta.cross(macd035, macd036): na
//Buy_signal_19 = showwavelines19 ? ta.cross(macd037, macd038): na
//Buy_signal_20 = showwavelines20 ? ta.cross(macd039, macd040): na
//Buy_signal_21 = showwavelines21 ? ta.cross(macd041, macd042): na
//Buy_signal_22 = showwavelines22 ? ta.cross(macd043, macd044): na
//Buy_signal_23 = showwavelines23 ? ta.cross(macd045, macd046): na
Sell_signal_1 = showwavelines24 ? ta.cross(macd047, macd048): na
Sell_signal_2 = showwavelines25 ? ta.cross(macd049, macd050): na
Sell_signal_3 = showwavelines26 ? ta.cross(macd051, macd052): na
Sell_signal_4 = showwavelines27 ? ta.cross(macd053, macd054): na
Sell_signal_5 = showwavelines28 ? ta.cross(macd055, macd056): na
Sell_signal_6 = showwavelines29 ? ta.cross(macd057, macd058): na
Sell_signal_7 = showwavelines30 ? ta.cross(macd059, macd060): na
Sell_signal_8 = showwavelines31 ? ta.cross(macd061, macd062): na
Sell_signal_9 = showwavelines32 ? ta.cross(macd063, macd064): na
Sell_signal_10 = showwavelines33 ? ta.cross(macd065, macd066): na
Sell_signal_11 = showwavelines34 ? ta.cross(macd067, macd068): na
Sell_signal_12 = showwavelines35 ? ta.cross(macd069, macd070): na
Sell_signal_13 = showwavelines36 ? ta.cross(macd071, macd072): na
Sell_signal_14 = showwavelines37 ? ta.cross(macd073, macd074): na
Sell_signal_15 = showwavelines38 ? ta.cross(macd075, macd076): na
Sell_signal_16 = showwavelines39 ? ta.cross(macd077, macd078): na
//Sell_signal_17 = showwavelines40 ? ta.cross(macd079, macd080): na
//Sell_signal_18 = showwavelines41 ? ta.cross(macd081, macd082): na
//Sell_signal_19 = showwavelines42 ? ta.cross(macd083, macd084): na
//Sell_signal_20 = showwavelines43 ? ta.cross(macd085, macd086): na
//Sell_signal_21 = showwavelines44 ? ta.cross(macd087, macd088): na
//Sell_signal_22 = showwavelines45 ? ta.cross(macd089, macd090): na
//Sell_signal_23 = showwavelines46 ? ta.cross(macd091, macd092): na
//Sell_signal_24 = showwavelines47 ? ta.cross(macd093, macd094): na
//Sell_signal_25 = showwavelines48 ? ta.cross(macd095,macd096 ): na

BUY = Buy_signal_1 or Buy_signal_2 or Buy_signal_3 or Buy_signal_4 or Buy_signal_5 or Buy_signal_6 or Buy_signal_7 or Buy_signal_8 or Buy_signal_9 or Buy_signal_10 or Buy_signal_11 or Buy_signal_12 or Buy_signal_13 or Buy_signal_14 or Buy_signal_15 or Buy_signal_16 //or Buy_signal_17 or Buy_signal_18 or Buy_signal_19 or Buy_signal_20 or Buy_signal_21 or Buy_signal_22 or Buy_signal_23 



EXIT = Sell_signal_1 or Sell_signal_2 or Sell_signal_3 or Sell_signal_4 or Sell_signal_5 or Sell_signal_6 or Sell_signal_7 or Sell_signal_8 or Sell_signal_9 or Sell_signal_10 or Sell_signal_11 or Sell_signal_12 or Sell_signal_13 or Sell_signal_14 or Sell_signal_15 or Sell_signal_16 //or Sell_signal_17 //or Sell_signal_18 or Sell_signal_19 or Sell_signal_20 or Sell_signal_21 or Sell_signal_22 or Sell_signal_23 or Sell_signal_24 or Sell_signal_25


////Variable//////

act_stop_lev = input(defval=false, title='Activate Stop Level')
stop_percent = input.float(defval=2.5, title='Stop Percentage', step=0.5) / 100

act_take_lev = input(defval=false, title='Activate Take Level')
take_profit_lev = input.float(defval=25, title='Take Profit Percentage', step=0.5) / 100
var stop_loss = float(na)
var take_profit = float(na)

if BUY and window()
    strategy.entry('Long Call', strategy.long, comment='BUY')
    if act_stop_lev
        stop_loss := strategy.position_avg_price - strategy.position_avg_price * stop_percent
        strategy.exit('Stop Loss', 'Long Call', stop=stop_loss)
    if act_take_lev
        take_profit := strategy.position_avg_price + strategy.position_avg_price * take_profit_lev
        strategy.exit('Take Profit', 'Long Call', limit=take_profit)

strategy.close_all(when=EXIT, comment='CLOSE')


